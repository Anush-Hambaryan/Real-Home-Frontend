(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{132:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),i=a.n(r),s=a(14),o=a.n(s),c=(a(132),a(8)),l=a(18),d=a(219),j=a(112),b=a(247),m=a(244),h=a(111),g=a(245),u=a(54),p=a(221),x=a(223),O=a(253),f=a(170),y=a(222),v=a(246),_=a(230),C=a(26),w=a.n(C),k=a(80),S=a.n(k),T=a(12),N=a(252),M=a(226),R=a(227),z=a(225),P=a(218),I=a(70),L=a.n(I),D=a(98),F=a(31),A=a(224),B=a(172),E=a(174),W=a(211),q=a(81),H=a.n(q),U=a(102),G=a.n(U);var Y=function(e){return Object(n.jsxs)("div",{style:{marginTop:"5px"},children:[Object(n.jsx)("input",{accept:"image/*",style:{display:"none"},multiple:!0,type:"file",id:"button-file",onChange:e.handleChange}),Object(n.jsx)("label",{htmlFor:"button-file",children:Object(n.jsx)(W.a,{variant:"outlined",color:"primary",component:"span",startIcon:Object(n.jsx)(G.a,{}),children:"Add images"})})," ",Object(n.jsx)("br",{})]})},K=a(213),J=a(250);function $(e){return Object(n.jsx)(K.a,{color:"secondary",control:Object(n.jsx)(J.a,{checked:e.checked,onChange:e.handleChange,color:"primary",type:"checkbox",name:e.name}),label:Object(n.jsx)(h.a,{variant:"body2",children:e.label})})}var Q=function(e){var t=Object(r.useContext)(me),a=e.searchParams;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)($,{checked:a?a.air_conditioning:t.listing.air_conditioning,handleChange:e.handleChange,name:"air_conditioning",label:"Air Conditioning"}),Object(n.jsx)($,{checked:a?a.washing_machine:t.listing.washing_machine,handleChange:e.handleChange,name:"washing_machine",label:"Washing Machine"}),Object(n.jsx)($,{checked:a?a.central_heating:t.listing.central_heating,handleChange:e.handleChange,name:"central_heating",label:"Central Heating"}),Object(n.jsx)($,{checked:a?a.gas:t.listing.gas,handleChange:e.handleChange,name:"gas",label:"Gas"}),Object(n.jsx)($,{checked:a?a.free_wifi:t.listing.free_wifi,handleChange:e.handleChange,name:"free_wifi",label:"Free WiFi"}),Object(n.jsx)($,{checked:a?a.pwd_accessable:t.listing.pwd_accessable,handleChange:e.handleChange,name:"pwd_accessable",label:"Accessable for persons with disability"}),Object(n.jsx)($,{checked:a?a.elevator:t.listing.elevator,handleChange:e.handleChange,name:"elevator",label:"Elevator"}),Object(n.jsx)($,{checked:a?a.garage:t.listing.garage,handleChange:e.handleChange,name:"garage",label:"Garage"}),Object(n.jsx)($,{checked:a?a.pool:t.listing.pool,handleChange:e.handleChange,name:"pool",label:"Pool"})]})},X=a(214),V=a(173),Z=a(181),ee=a(178);var te=function(e){return Object(n.jsxs)(B.a,{className:e.classes,error:!!e.error,required:e.required,variant:"year_built__gte"===e.name||"year_built__lte"===e.name?"standard":"outlined",children:[Object(n.jsx)(V.a,{children:e.label}),Object(n.jsxs)(Z.a,{id:e.id,value:e.value,onChange:e.handleChange,name:e.name,label:e.label,MenuProps:{getContentAnchorEl:function(){return null},disableScrollLock:!0,PaperProps:{style:{position:"sticky",maxWidth:130,maxHeight:("number_of_rooms"===e.name||"year_built__gte"===e.name||"year_built__lte"===e.name)&&150}}},children:[e.homePage&&Object(n.jsx)(X.a,{value:"",children:Object(n.jsx)("em",{children:"Unselect"})}),e.options.map((function(e){return Object(n.jsx)(X.a,{value:e,children:e},e)}))]}),e.error&&Object(n.jsx)(ee.a,{children:"Please select an option"})]})};function ae(e){var t=Object(r.useContext)(me),a=Object(r.useState)(!1),i=Object(c.a)(a,2),s=(i[0],i[1]);return Object(n.jsx)(j.a,{variant:"elevation",elevation:2,children:Object(n.jsx)(v.a,{display:"flex",flexWrap:"nowrap",m:1,overflow:"auto",maxWidth:"100%",children:e.editMode?t.listing.images.map((function(e){return Object(n.jsxs)(v.a,{component:"div",display:"inline",position:"relative",children:[Object(n.jsx)(v.a,{position:"absolute",top:"6%",right:"4%",children:Object(n.jsx)(f.a,{style:{backgroundColor:"white",padding:0},size:"small",onClick:function(a){return function(e,a){t.dispatch({property:"to_delete",value:e.id}),a.currentTarget.parentNode.parentNode.remove()}(e,a)},children:Object(n.jsx)(P.a,{})})}),Object(n.jsx)("img",{alt:"",src:e.image_medium,style:{margin:"5px",width:"250px",height:"167px",border:"1px solid lightgrey",borderRadius:"7px"}})]},e.id)})):e.images.map((function(t){return Object(n.jsxs)(v.a,{component:"div",display:"inline",position:"relative",children:[Object(n.jsx)(v.a,{position:"absolute",top:"2%",right:"2%",children:Object(n.jsx)(f.a,{size:"small",onClick:function(a){return function(t){var a=e.images.indexOf(t);e.setSelectedImages((function(e){return e.splice(a,1),e})),e.setPostImages((function(e){return e.splice(a,1),e})),s((function(e){return!e}))}(t)},children:Object(n.jsx)(P.a,{})})}),Object(n.jsx)("img",{alt:"",src:t,style:{margin:"5px",width:"250px",height:"167px",border:"1px solid lightgrey",borderRadius:"7px"}})]},t)}))})})}var ne={transaction:["Rent","Sale"],rent_period:["Daily","Monthly"],currency:["AMD","USD","RUB"],district:["Ajapnyak","Arabkir","Avan","Davtashen","Erebuni","Kanaker-Zeytun","Kentron","Malatia-Sebastia","Nork-Marash","Nor Nork","Nubarashen","Shengavit"],home_type:["Apartment","House","Townhome"],furnishing:["Full","Only Kitchen","None"],number_of_rooms:[1,2,3,4,5,6,7,8,9,10,11,12],year_built:function(){for(var e=[],t=(new Date).getFullYear();t>1899;t--)e.push(t);return e}()},re=a(251),ie=a(220),se=a(248);function oe(e){return Object(n.jsx)(se.a,Object(T.a)({elevation:6,variant:"filled"},e))}var ce=Object(d.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(1)}}}}));function le(e){var t=ce(),a=Object(r.useState)(!1),i=Object(c.a)(a,2),s=i[0],o=i[1];Object(r.useEffect)((function(){o(!0)}),[]);var l=function(e,t){"clickaway"!==t&&o(!1)};return Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(re.a,{style:{bottom:e.editMode&&70},open:s,autoHideDuration:e.submitting?null:6e3,onClose:l,children:e.submitting?Object(n.jsx)(ie.a,{}):Object(n.jsx)(oe,{onClose:l,severity:"success",children:"Listing posted successfully!"})})})}var de=a(159),je=Object(d.a)((function(e){var t;return{root:Object(l.a)({margin:10,padding:30},e.breakpoints.down("xs"),{padding:20}),marginControl:{marginBottom:e.spacing(1),marginTop:e.spacing(1)},formControl:(t={minWidth:240},Object(l.a)(t,e.breakpoints.between("sm","sm"),{minWidth:200}),Object(l.a)(t,e.breakpoints.down("xs"),{minWidth:200}),Object(l.a)(t,"marginBottom",e.spacing(1)),Object(l.a)(t,"marginTop",e.spacing(1)),t)}}));var be=function(e){var t=je(),a=Object(r.useContext)(me),i=Object(r.useContext)(Ht),s=Object(r.useState)([]),o=Object(c.a)(s,2),d=o[0],b=o[1],m=Object(r.useState)([]),g=Object(c.a)(m,2),O=g[0],f=g[1],v=Object(r.useState)({}),_=Object(c.a)(v,2),C=_[0],k=_[1],S=Object(r.useState)(!1),N=Object(c.a)(S,2),M=N[0],R=N[1],z=Object(r.useState)(!1),P=Object(c.a)(z,2),I=P[0],q=P[1],U=function(e){if(e.target.files){C.images&&k(Object(T.a)(Object(T.a)({},C),{},{images:""}));var t=Array.from(e.target.files).map((function(e){return URL.createObjectURL(e)}));b([].concat(Object(u.a)(d),Object(u.a)(t))),f((function(t){return t.concat(Array.from(e.target.files))}))}else if("file"!==e.target.type){var n="checkbox"===e.target.type?e.target.checked:e.target.value;a.dispatch({property:e.target.name,value:n}),k(Object(T.a)(Object(T.a)({},C),{},Object(l.a)({},e.target.name,"")))}};H.a.setApiKey("AIzaSyDrQozQbHcgDzFM0mGzCEmhFDCaBiqn1XU");var G=function(){var t=Object(D.a)(L.a.mark((function t(n){var r,s,o,c,l;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s in n.preventDefault(),q(!0),r=new FormData,a.listing)r.append(s,a.listing[s]);return o="".concat(a.listing.street_building,", ").concat(a.listing.district,", Yerevan, Armenia"),t.next=7,H.a.fromAddress(o).then((function(e){var t=e.results[0].geometry.location,a=t.lat,n=t.lng;r.append("lat",a.toFixed(6)),r.append("lng",n.toFixed(6))}),(function(e){console.error(e)}));case 7:return c=new de,t.next=10,c.compress(O,{size:.5,quality:.8,maxWidth:2300,maxHeight:1470,resize:!0}).then((function(e){console.log(e),e.forEach((function(e,t){var a=e.data,n=e.ext,i=de.convertBase64ToFile(a,n);r.append("image".concat(t),i)}))}));case 10:l=localStorage.getItem("token"),e.editDialogOpen?w.a.put("/listings/".concat(a.listing.id,"/"),r,{headers:{Authorization:"Token ".concat(l),"Content-Type":"multipart/form-data"}}).then((function(t){a.dispatch({property:"to_delete",value:""}),f([]),"OK"===t.statusText&&e.setData((function(a){return a.map((function(a,n){return n===e.index?t.data:a}))})),i.setCacheReset(!0),e.setEditDialogOpen(!1)})).catch((function(e){k(e.response.data),q(!1)})):w.a.post("/listings/",r,{headers:{Authorization:"Token ".concat(l),"Content-Type":"multipart/form-data"}}).then((function(e){if(201===e.status){for(var t in a.listing)a.dispatch({property:t,value:"boolean"!==typeof a.listing[t]&&("to_delete"===t?[]:"")});b([]),q(!1),R(!0),i.setCacheReset(!0)}})).catch((function(e){k(e.response.data),q(!1)}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=Object(F.a)(),J=Object(p.a)(K.breakpoints.up("lg")),$=Object(p.a)(K.breakpoints.between("sm","sm"));return Object(n.jsxs)(j.a,{className:t.root,elevation:4,children:[e.editDialogOpen?null:Object(n.jsx)(h.a,{component:"div",variant:"overline",children:"Please fill out the form below to add a listing."}),Object(n.jsx)(h.a,{variant:"caption",color:"secondary",children:"All fields marked with * are required "}),Object(n.jsx)(y.a,{style:{marginTop:10,marginBottom:10}}),Object(n.jsxs)(x.a,{container:!0,spacing:1,children:[e.editDialogOpen&&Object(n.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(n.jsx)(ae,{editMode:e.editDialogOpen})}),Object(n.jsxs)(x.a,{item:!0,xs:(e.editDialogOpen,12),sm:6,md:4,lg:(e.editDialogOpen,3),children:[Object(n.jsx)(h.a,{component:"div",variant:"overline",color:"primary",children:" Transaction "}),Object(n.jsx)(te,{value:a.listing.transaction,handleChange:U,name:"transaction",classes:t.formControl,label:"Transaction Type",options:ne.transaction,error:C.transaction,required:!0})," ",Object(n.jsx)("br",{}),"Rent"===a.listing.transaction&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(te,{value:a.listing.rent_period,handleChange:U,name:"rent_period",classes:t.formControl,label:"Rent Period",options:ne.rent_period,error:C.rent_period,required:!0})," ",Object(n.jsx)("br",{})," "]}),Object(n.jsx)(te,{value:a.listing.currency,handleChange:U,name:"currency",classes:t.formControl,label:"Currency",options:ne.currency,error:C.currency,required:!0})," ",Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{variant:"outlined",value:a.listing.price,onChange:U,name:"price",className:t.formControl,label:"Price",type:"number",error:!!C.price,helperText:C.price,required:!0})," ",Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{component:"div",variant:"overline",color:"primary",style:{marginTop:15},children:" Address "}),Object(n.jsx)(A.a,{id:"address",variant:"outlined",value:a.listing.street_building,onChange:U,name:"street_building",className:t.formControl,label:"Street & Building",type:"text",error:!!C.street_building,helperText:C.street_building,required:!0})," ",Object(n.jsx)("br",{}),Object(n.jsx)(te,{id:"district",value:a.listing.district,handleChange:U,name:"district",classes:t.formControl,label:"District",options:ne.district,error:C.district,required:!0})," ",Object(n.jsx)("br",{})]}),Object(n.jsxs)(x.a,{item:!0,xs:(e.editDialogOpen,12),sm:6,md:4,lg:(e.editDialogOpen,3),children:[Object(n.jsx)(h.a,{component:"div",variant:"overline",color:"primary",children:" General "}),Object(n.jsx)(te,{value:a.listing.home_type,handleChange:U,name:"home_type",classes:t.formControl,label:"Home Type",options:ne.home_type,error:C.home_type,required:!0})," ",Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{variant:"outlined",InputProps:{inputProps:{min:0}},value:a.listing.year_built,onChange:U,name:"year_built",className:t.formControl,label:"Year built",type:"number",error:!!C.year_built,helperText:C.year_built,required:!0})," ",Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{variant:"outlined",InputProps:{inputProps:{min:0}},value:a.listing.area,onChange:U,name:"area",className:t.formControl,label:"Area (\u33a1)",type:"number",error:!!C.area,helperText:C.area,required:!0})," ",Object(n.jsx)("br",{}),("House"===a.listing.home_type||"Townhome"===a.listing.home_type)&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(A.a,{variant:"outlined",InputProps:{inputProps:{min:0}},value:a.listing.lot_size,onChange:U,name:"lot_size",className:t.formControl,label:"Lot Size (\u33a1)",type:"number",error:!!C.lot_size,helperText:C.lot_size})," ",Object(n.jsx)("br",{})," "]}),"Apartment"===a.listing.home_type&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(A.a,{InputProps:{inputProps:{min:0}},variant:"outlined",value:a.listing.floor,onChange:U,name:"floor",className:t.formControl,label:"Floor",type:"number",error:!!C.floor,helperText:C.floor,required:!0})," ",Object(n.jsx)("br",{})]}),Object(n.jsx)(A.a,{variant:"outlined",InputProps:{inputProps:{min:0}},value:a.listing.number_of_floors,onChange:U,name:"number_of_floors",className:t.formControl,label:"Number of floors",type:"number",error:!!C.number_of_floors,helperText:C.number_of_floors,required:!0})," ",Object(n.jsx)("br",{}),Object(n.jsx)(A.a,{variant:"outlined",InputProps:{inputProps:{min:0}},value:a.listing.number_of_rooms,onChange:U,name:"number_of_rooms",className:t.formControl,label:"Number of rooms",type:"number",error:!!C.number_of_rooms,helperText:C.number_of_rooms,required:!0})," ",Object(n.jsx)("br",{}),Object(n.jsx)(te,{value:a.listing.furnishing,handleChange:U,name:"furnishing",classes:t.formControl,label:"Furnishing",options:ne.furnishing,error:C.furnishing,required:!0})," ",Object(n.jsx)("br",{})]}),Object(n.jsxs)(x.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:[Object(n.jsx)(h.a,{component:"div",variant:"overline",color:"primary",children:" Amenities "}),Object(n.jsxs)(B.a,{className:t.marginControl,children:[Object(n.jsx)(E.a,{children:"Please  select all amenities that apply"}),Object(n.jsx)(Q,{handleChange:U})]})]}),Object(n.jsxs)(x.a,{item:!0,xs:12,sm:6,md:12,lg:(e.editDialogOpen,3),children:[Object(n.jsx)(h.a,{component:"div",variant:"overline",color:"primary",children:"Description"}),Object(n.jsx)(A.a,{value:a.listing.description,onChange:U,className:t.marginControl,name:"description",label:"Please Add Description",multiline:!0,rows:J||$?20:8,rowsMax:20,fullWidth:!0,variant:"outlined"})," ",Object(n.jsx)("br",{})]}),Object(n.jsxs)(x.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(n.jsx)(Y,{handleChange:U,setErrors:k}),Object(n.jsx)(ae,{images:d,setSelectedImages:b,setPostImages:f})]})]}),Object(n.jsxs)(x.a,{item:!0,display:"flex",align:"right",children:[Object(n.jsx)(y.a,{style:{marginTop:10,marginBottom:10}}),(I||M)&&Object(n.jsx)(le,{submitting:I,editMode:e.editDialogOpen}),Object(n.jsxs)(W.a,{variant:"contained",color:"primary",onClick:G,children:[" ",e.editDialogOpen?"Edit Listing":"Submit Listing"]})]})]})},me=i.a.createContext(),he={transaction:"",rent_period:"",currency:"",price:"",home_type:"",year_built:"",area:"",lot_size:"",floor:"",number_of_floors:"",number_of_rooms:"",furnishing:"",street_building:"",district:"",lat:"",lng:"",air_conditioning:!1,washing_machine:!1,central_heating:!1,gas:!1,free_wifi:!1,pwd_accessable:!1,elevator:!1,garage:!1,pool:!1,description:"",to_delete:[]};function ge(e,t){var a=t.property,n=t.value;return"to_delete"!==a?Object(T.a)(Object(T.a)({},e),{},Object(l.a)({},a,n)):Object(T.a)(Object(T.a)({},e),{},Object(l.a)({},a,n?e.to_delete.concat(n):[]))}var ue=function(e){var t=Object(r.useReducer)(ge,he),a=Object(c.a)(t,2),i=a[0],s=a[1],o=Object(r.useState)(!1),l=Object(c.a)(o,2),d=l[0],j=l[1];return e.newListing?Object(n.jsx)(me.Provider,{value:{listing:i,dispatch:s},children:Object(n.jsx)(be,{})}):Object(n.jsxs)(me.Provider,{value:{listing:i,dispatch:s},children:[Object(n.jsx)(O.a,{title:"Edit",placement:"top",PopperProps:{popperOptions:{modifiers:{offset:{enabled:!0,offset:"0px, -70px"}}}},children:Object(n.jsx)(f.a,{"aria-label":"edit",style:{padding:4},onClick:function(){return function(e){for(var t in e)null===e[t]?s({property:t,value:""}):s({property:t,value:e[t]});j(!0)}(e.listing)},children:Object(n.jsx)(z.a,{})})}),Object(n.jsxs)(N.a,{transitionDuration:5,open:d,onClose:function(){return j(!1)},"aria-labelledby":"listing-edit-form",fullScreen:!1,fullWidth:!0,maxWidth:"xl",children:[Object(n.jsxs)(M.a,{style:{backgroundColor:"#E8E8E8"},children:[Object(n.jsxs)(h.a,{color:"primary",variant:"overline",style:{marginLeft:5,fontWeight:"bold"},children:["Edit listing (ID: ",e.listing.id,")"]}),Object(n.jsx)("div",{style:{flex:"1 0 0"}}),Object(n.jsx)(f.a,{onClick:function(){return j(!1)},children:Object(n.jsx)(P.a,{color:"primary"})})]}),Object(n.jsx)(R.a,{style:{margin:0,padding:0},children:Object(n.jsx)(be,{editDialogOpen:d,setEditDialogOpen:j,index:e.index,setData:e.setData})})]})]})},pe=a(254),xe=a(215),Oe=a(228),fe=a(229),ye=a(104),ve=a(105),_e=a(76),Ce=a.n(_e),we=Object(d.a)((function(e){return{grid:{backgroundColor:"","&:hover":{"& $box":{display:"inline"}}},box:{backgroundColor:""},iconBtn:{backgroundColor:"white","&:hover":{backgroundColor:"white"}}}}));var ke=function(e){var t=we(),a=Object(r.useState)(0),i=Object(c.a)(a,2),s=i[0],o=i[1],l=function(e){o("rightArrow"===e?function(e){return e+1}:function(e){return e-1})};return Object(n.jsxs)(x.a,{item:!0,xs:12,sm:12,md:12,lg:12,style:{position:"sticky"},className:t.grid,align:"center",children:[Object(n.jsx)(v.a,{position:"absolute",top:"37%",left:"4%",display:"none",className:t.box,children:Object(n.jsx)(f.a,{size:"small",className:t.iconBtn,onClick:function(){return l("leftArrow")},disabled:0===s&&!0,style:{display:0===s&&"none"},children:Object(n.jsx)(Oe.a,{style:{color:"black",display:0===s&&"none"},fontSize:"small"})})}),Object(n.jsx)(v.a,{position:"absolute",top:"37%",right:"4%",display:"none",className:t.box,children:Object(n.jsx)(f.a,{size:"small",className:t.iconBtn,onClick:function(){return l("rightArrow")},disabled:s===e.images.length-1&&!0,style:{display:s===e.images.length-1&&"none"},children:Object(n.jsx)(fe.a,{style:{color:"black",display:s===e.images.length-1&&"none"},fontSize:"small"})})}),e.myListings?Object(n.jsx)(Ce.a,{children:Object(n.jsx)("img",{src:e.images[s].image_medium,alt:"",width:"100%",style:{margin:-1,border:"1px solid grey",borderRadius:"10px"}})}):Object(n.jsx)("img",{src:e.images[s].image_medium,alt:"",width:"100%",style:{margin:-1,border:"1px solid grey",borderRadius:"10px"}}),Object(u.a)(Array(e.images.length)).map((function(e,t){return Object(n.jsx)(ye.a,{icon:ve.a,size:"xs",transform:"shrink-4",color:s===t?"grey":"lightgrey"},t)}))]})},Se=Object(d.a)((function(e){return{generalInfo:{width:"fit-content",color:e.palette.text.primary,"& hr":{margin:e.spacing(.5,1)}},chip:{margin:2,borderRadius:8},button:{textTransform:"none",borderRadius:0,paddingLeft:3,paddingRight:3,paddingTop:0,paddingBottom:0,minWidth:0,fontSize:13},popoverContent:{padding:7}}}));var Te=function(e){var t=Se(),a=Object(r.useState)(null),i=Object(c.a)(a,2),s=i[0],o=i[1],l=Boolean(s);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(x.a,{item:!0,xs:12,sm:12,md:12,style:{display:"flex",alignItems:"top",marginTop:10},children:[Object(n.jsxs)(h.a,{variant:"subtitle2",style:{flex:1},children:[e.listing.street_building,", ",e.listing.district]}),Object(n.jsxs)(h.a,{variant:"body2",style:{fontWeight:"bold"},children:[" ","USD"===e.listing.currency?"$":"RUB"===e.listing.currency?"\u20bd":"\u058f",e.listing.price.toLocaleString()," ","Rent"===e.listing.transaction&&"/ ".concat("Monthly"===e.listing.rent_period?"Month":"Day")]})]}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,children:Object(n.jsxs)(x.a,{container:!0,alignItems:"center",className:t.generalInfo,children:[Object(n.jsxs)(h.a,{variant:"body2",children:["Area: ",e.listing.area,"\u33a1"]}),Object(n.jsx)(y.a,{orientation:"vertical",flexItem:!0}),"Apartment"===e.listing.home_type&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)(h.a,{variant:"body2",children:["Floor: ",e.listing.floor,"/",e.listing.number_of_floors]}),Object(n.jsx)(y.a,{orientation:"vertical",flexItem:!0})," "]}),"Apartment"!==e.listing.home_type&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)(h.a,{variant:"body2",children:["Floors: ",e.listing.number_of_floors]}),Object(n.jsx)(y.a,{orientation:"vertical",flexItem:!0})," "]}),Object(n.jsxs)(h.a,{variant:"body2",children:["Furnishing: ",e.listing.furnishing]}),Object(n.jsx)(y.a,{orientation:"vertical",flexItem:!0}),"Apartment"!==e.listing.home_type&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)(h.a,{variant:"body2",children:["Lot size: ",e.listing.lot_size,"\u33a1"]}),Object(n.jsx)(y.a,{orientation:"vertical",flexItem:!0})," "]}),Object(n.jsxs)(h.a,{variant:"body2",children:["Year built: ",e.listing.year_built]})]})}),Object(n.jsxs)(x.a,{item:!0,xs:12,sm:12,md:12,children:[e.listing.air_conditioning&&Object(n.jsx)(pe.a,{label:"Air Conditioning",size:"small",className:t.chip}),e.listing.washing_machine&&Object(n.jsx)(pe.a,{label:"Washing Machine",size:"small",className:t.chip}),e.listing.central_heating&&Object(n.jsx)(pe.a,{label:"Central Heating",size:"small",className:t.chip}),e.listing.gas&&Object(n.jsx)(pe.a,{label:"Gas",size:"small",className:t.chip}),e.listing.free_wifi&&Object(n.jsx)(pe.a,{label:"Free Wifi",size:"small",className:t.chip}),e.listing.pwd_accessable&&Object(n.jsx)(pe.a,{label:"Accessable for PWD",size:"small",className:t.chip}),e.listing.elevator&&Object(n.jsx)(pe.a,{label:"Elevator",size:"small",className:t.chip}),e.listing.garage&&Object(n.jsx)(pe.a,{label:"Garage",size:"small",className:t.chip}),e.listing.pool&&Object(n.jsx)(pe.a,{label:"Pool",size:"small",className:t.chip})]}),e.listing.images.length?Object(n.jsx)(ke,{images:e.listing.images,myListings:e.myListings}):null,e.listing.description&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)(x.a,{item:!0,xs:12,sm:12,md:12,style:{paddingLeft:0,paddingRight:0},children:[Object(n.jsx)(y.a,{style:{marginTop:3,marginBottom:4}}),Object(n.jsx)(h.a,{variant:"body2",children:e.listing.description})]})," "]}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,style:{margin:0,marginTop:5,padding:0},children:Object(n.jsx)(y.a,{})}),Object(n.jsxs)(x.a,{item:!0,xs:12,sm:12,md:12,style:{display:"flex",marginTop:5,padding:0},children:[Object(n.jsxs)(h.a,{color:"textSecondary",style:{flex:1,fontSize:13},children:["Created at: ",e.listing.created.substring(0,10),!e.myListings&&Object(n.jsxs)(n.Fragment,{children:[", By: ",Object(n.jsxs)(W.a,{size:"small",color:"primary",className:t.button,onClick:function(e){o(e.currentTarget)},children:[" ",e.listing.owner.username," "]}),Object(n.jsxs)(xe.a,{classes:{paper:t.popoverContent},open:l,anchorEl:s,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[Object(n.jsxs)(h.a,{variant:"caption",style:{fontWeight:"bold"},children:[e.listing.owner.first_name," ",e.listing.owner.last_name]}),Object(n.jsx)("br",{}),Object(n.jsxs)(h.a,{variant:"caption",children:["Email: ",e.listing.owner.email]})," ",Object(n.jsx)("br",{})]})," "]})]}),!e.homePage&&Object(n.jsxs)(h.a,{color:"textSecondary",variant:"caption",children:["ID: ",e.listing.id]})]})]})},Ne=Object(d.a)((function(e){return{paper:{margin:10,padding:15,paddingBottom:3,paddingRight:25,"&:hover":{boxShadow:"0 9px 12px 1px rgba(0,0,0,0.14), 0 3px 16px 2px rgba(0,0,0,0.12), 0 5px 6px -3px rgba(0,0,0,0.20)"}},gridContainer:{margin:0,padding:0}}}));var Me=function(e){var t=Ne(),a=Object(r.useContext)(Ht),i=Object(p.a)("(max-width: 600px)"),s=Object(p.a)("(max-width: 750px)"),o=Object(p.a)("(max-width: 1200px)"),l=Object(r.useState)([]),d=Object(c.a)(l,2),b=d[0],m=d[1],g=Object(r.useState)(!1),C=Object(c.a)(g,2),T=C[0],N=C[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));console.log(e),w.a.get("/listings",{params:{owner:e.id}}).then((function(e){m(e.data),0===e.data.length&&N(!0)})).catch((function(e){console.log(e.response.data)}))}),[]);var M=function(e,t){var n=localStorage.getItem("token");w.a.delete("/listings/".concat(e,"/"),{headers:{Authorization:"Token ".concat(n)}}).then((function(e){if(204===e.status){var n=b;n.splice(t,1),m(Object(u.a)(n))}a.setCacheReset(!0)})).catch((function(e){console.log(e)}))};return Object(n.jsx)(v.a,{pr:i?0:s?15:o?0:30,children:Object(n.jsx)(k.ResponsiveMasonry,{columnsCountBreakPoints:{350:1,750:2},children:Object(n.jsxs)(S.a,{children:[b&&function(e){return e.map((function(e,a){return Object(n.jsx)(j.a,{className:t.paper,elevation:2,children:Object(n.jsxs)(x.a,{container:!0,spacing:1,className:t.gridContainer,children:[Object(n.jsxs)(x.a,{item:!0,xs:12,sm:12,md:12,style:{display:"flex",alignItems:"center"},children:[Object(n.jsxs)(h.a,{variant:"overline",color:"primary",style:{flex:1,fontWeight:"bold",fontSize:11},children:[e.number_of_rooms,"-room ",e.home_type," for ",e.transaction]}),Object(n.jsx)(ue,{listing:e,index:a,setData:m}),Object(n.jsx)(O.a,{title:"Delete",placement:"top",PopperProps:{popperOptions:{modifiers:{offset:{enabled:!0,offset:"0px, -70px"}}}},children:Object(n.jsx)(f.a,{"aria-label":"delete",style:{padding:4},onClick:function(){return M(e.id,a)},children:Object(n.jsx)(_.a,{})})})]}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,style:{margin:0,padding:0},children:Object(n.jsx)(y.a,{})}),Object(n.jsx)(Te,{listing:e,myListings:!0})]})},e.id)}))}(b),T&&Object(n.jsx)(h.a,{style:{margin:20},children:"You have not posted any listings yet."})]})})})},Re=Object(d.a)((function(e){return{popover:{pointerEvents:"none"},popoverContent:{pointerEvents:"auto",borderRadius:0},button:{textTransform:"none",borderRadius:0,margin:5,padding:2}}}));var ze=function(e){var t=Re(),a=Object(r.useState)(!1),i=Object(c.a)(a,2),s=i[0],o=i[1],l=Object(r.useRef)(null),d=function(e){e.currentTarget;o(!0)},j=function(e){e.currentTarget;o(!1)},b=Object(p.a)("(min-width:1200px)");return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(W.a,{style:"Home Type & Location"===e.name?{width:215}:"Price"===e.name?{width:190}:"More"===e.name?{width:50}:{width:105},variant:"outlined",className:t.button,color:e.homeType||e.district||e.value||e.currency||e.valueMin||e.valueMax||e.selectedAmenities?"secondary":"primary",ref:l,"aria-owns":s?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:d,onMouseLeave:j,children:e.value?e.value:!e.currency||e.valueMin||e.valueMax?e.valueMin||e.valueMax?"".concat(e.valueMin&&("AMD"===e.currency?"\u058f":"USD"===e.currency?"$":"RUB"===e.currency?"\u20bd":""),"\n                    ").concat(e.valueMin?9===e.valueMin.length?"".concat(parseInt(e.valueMin.substring(0,6)).toLocaleString(),"k"):10===e.valueMin.length?"".concat(parseInt(e.valueMin.substring(0,7)).toLocaleString(),"k"):11===e.valueMin.length?"".concat(parseInt(e.valueMin.substring(0,8)).toLocaleString(),"k"):e.valueMin.length>11?"100b(+)":parseInt(e.valueMin).toLocaleString():""," \n                    ").concat(e.valueMin&&e.valueMax&&" - ","\n                    ").concat(e.valueMax&&("AMD"===e.currency?"\u058f":"USD"===e.currency?"$":"RUB"===e.currency?"\u20bd":""),"\n                    ").concat(e.valueMax?9===e.valueMax.length?"".concat(parseInt(e.valueMax.substring(0,6)).toLocaleString(),"k"):10===e.valueMax.length?"".concat(parseInt(e.valueMax.substring(0,7)).toLocaleString(),"k"):11===e.valueMax.length?"".concat(parseInt(e.valueMax.substring(0,8)).toLocaleString(),"k"):e.valueMax.length>11?"100b(+)":parseInt(e.valueMax).toLocaleString():"").replace(/\s+/g,""):"Amenities"===e.name&&0!==e.selectedAmenities?"".concat(e.name,"(+").concat(e.selectedAmenities,")"):e.homeType||e.district?"".concat(e.homeType," ").concat(e.district&&"in ".concat(e.district)):e.name:"AMD"===e.currency?"AMD":"USD"===e.currency?"USD":"RUB"===e.currency?"RUB":""}),Object(n.jsx)(xe.a,{className:t.popover,classes:{paper:t.popoverContent},open:s,anchorEl:l.current,anchorOrigin:{vertical:40,horizontal:"More"===e.name?"right":"left"},transformOrigin:{vertical:"top",horizontal:"More"===e.name?"right":"left"},PaperProps:{style:{position:"sticky",width:"More"===e.name&&b?270:"More"===e.name?450:"Home Type & Location"===e.name||"Price"===e.name?200:"Rooms"===e.name?120:160},onMouseEnter:d,onMouseLeave:j},disableScrollLock:!0,children:Object(n.jsx)(v.a,{p:1,px:"More"!==e.name?1.7:.7,style:{display:"More"===e.name&&"flex"},children:e.children})})]})},Pe=Object(d.a)((function(e){return{paper:{position:"sticky",margin:10,padding:15,paddingBottom:3,paddingRight:25,"&:hover":{boxShadow:"0 9px 12px 1px rgba(0,0,0,0.14), 0 3px 16px 2px rgba(0,0,0,0.12), 0 5px 6px -3px rgba(0,0,0,0.20)"}},gridContainer:{margin:0,padding:0}}}));function Ie(e){var t=Pe(),a=Object(r.useState)(0),i=Object(c.a)(a,2),s=i[0],o=i[1],l=Object(r.useRef)();Object(r.useEffect)((function(){var e=new IntersectionObserver((function(e){Object(c.a)(e,1)[0].isIntersecting&&o((function(e){return e+3}))}),{root:document.getElementById("listingsSideBarPaper"),rootMargin:"20px",threshold:0});l.current&&e.observe(l.current)}),[l]);var d,b=Object(p.a)("(max-width: 600px)");return Object(n.jsxs)(n.Fragment,{children:[(d=e.data.slice(0,s),d.map((function(e){return Object(n.jsx)(j.a,{className:t.paper,elevation:2,onMouseEnter:function(){return!b&&function(e){var t=document.getElementById(e);t&&(t.style.color="#f50057",t.parentElement.style.zIndex=99999)}(e.id)},onMouseLeave:function(){return!b&&function(e){var t=document.getElementById(e);t&&(t.style.color="black",t.parentElement.style.zIndex=null)}(e.id)},children:Object(n.jsxs)(x.a,{container:!0,spacing:1,className:t.gridContainer,children:[Object(n.jsxs)(x.a,{item:!0,xs:12,sm:12,md:12,style:{display:"flex",alignItems:"top"},children:[Object(n.jsxs)(h.a,{variant:"body2",color:"primary",style:{flex:1,fontWeight:"bold",fontSize:11},children:[e.number_of_rooms,"-ROOM ",e.home_type.toUpperCase()," FOR ",e.transaction.toUpperCase()]}),Object(n.jsxs)(h.a,{color:"textSecondary",variant:"body2",style:{fontSize:11},children:["ID: ",e.id]})]}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,style:{margin:0,padding:0},children:Object(n.jsx)(y.a,{})}),Object(n.jsx)(Te,{listing:e,homePage:!0})]})},e.id)}))),Object(n.jsx)("div",{ref:l,children:" "})]})}var Le=i.a.memo(Ie),De=a(108),Fe=a(231),Ae=a(232),Be=a(233),Ee=a(234),We=a(235),qe=Object(d.a)((function(e){return{paper:{margin:0,padding:15,paddingBottom:3,paddingRight:25,backgroundColor:"","&:hover":{boxShadow:"0 9px 12px 1px rgba(0,0,0,0.14), 0 3px 16px 2px rgba(0,0,0,0.12), 0 5px 6px -3px rgba(0,0,0,0.20)"}},gridContainer:{margin:0,padding:0}}}));var He=function(e){var t=qe();return Object(n.jsxs)(N.a,{open:e.open,onClose:function(){return e.handleClose(!1)},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(n.jsxs)(M.a,{style:{display:"flex",alignItems:"center"},children:[Object(n.jsxs)(h.a,{variant:"overline",color:"primary",style:{marginLeft:15,flex:1,fontWeight:"bold"},children:[e.listing.number_of_rooms,"-room ",e.listing.home_type," for ",e.listing.transaction]}),Object(n.jsx)(f.a,{onClick:function(){return e.handleClose(!1)},color:"primary",children:Object(n.jsx)(P.a,{})})]}),Object(n.jsx)(R.a,{dividers:!0,style:{padding:10},children:Object(n.jsx)(j.a,{className:t.paper,elevation:2,children:Object(n.jsx)(x.a,{container:!0,spacing:1,className:t.gridContainer,children:Object(n.jsx)(Te,{listing:e.listing})})})})]})},Ue=Object(d.a)((function(e){return{markerCard:{minWidth:140},media:{height:100},cardContent:{padding:e.spacing(1)},popover:{pointerEvents:"none"},popoverContent:{pointerEvents:"auto"},avatar:{position:"absolute",backgroundColor:"white",color:"black",margin:6,marginLeft:"45%",padding:6,border:"solid 1px black"}}}));function Ge(e){var t=Ue(),a=Object(r.useState)(!1),i=Object(c.a)(a,2),s=i[0],o=i[1],l=Object(r.useState)(!1),d=Object(c.a)(l,2),b=d[0],m=d[1],g=Object(r.useRef)(null),u=function(){o(!0)},p=function(){o(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(v.a,{style:{transform:"translate(-60px, -100%)",zIndex:s&&999999,position:"relative"},children:[s&&Object(n.jsx)(xe.a,{className:t.popover,classes:{paper:t.popoverContent},open:s,anchorEl:g.current,anchorOrigin:{vertical:s&&document.getElementById(e.listing.id).getBoundingClientRect().y-(document.getElementById("dashboard").offsetHeight+document.getElementById("searchPanel").offsetHeight)<200?"bottom":"top",horizontal:"center"},transformOrigin:{vertical:s&&document.getElementById(e.listing.id).getBoundingClientRect().y-(document.getElementById("dashboard").offsetHeight+document.getElementById("searchPanel").offsetHeight)<200?"top":"bottom",horizontal:"center"},PaperProps:{style:{position:"sticky",maxWidth:150},onMouseEnter:u,onMouseLeave:p},disableScrollLock:!0,elevation:4,children:Object(n.jsx)(Fe.a,{className:t.markerCard,onClick:function(){return m(!0)},children:Object(n.jsxs)(Ae.a,{children:[e.listing.images.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j.a,{className:t.avatar,children:Object(n.jsxs)(h.a,{style:{fontSize:10,fontWeight:"bolder"},children:[" ","Rent"===e.listing.transaction?"FOR RENT":"FOR SALE"," "]})}),Object(n.jsx)(Be.a,{className:t.media,image:e.listing.images[0].image_medium}),"  "]}):null,Object(n.jsxs)(Ee.a,{className:t.cardContent,children:[!e.listing.images.length&&Object(n.jsxs)(h.a,{style:{fontSize:10,fontWeight:"bolder"},children:[" ","Rent"===e.listing.transaction?"FOR RENT":"FOR SALE"," "]}),Object(n.jsxs)(h.a,{variant:"caption",color:"textSecondary",children:[e.listing.number_of_rooms,"-room ",e.listing.home_type," "]})," ",Object(n.jsx)("br",{}),Object(n.jsxs)(h.a,{variant:"caption",color:"textPrimary",children:["USD"===e.listing.currency?"$":"RUB"===e.listing.currency?"\u20bd":"\u058f",e.listing.price.toLocaleString()," ","Rent"===e.listing.transaction&&"/ ".concat("Monthly"===e.listing.rent_period?"Month":"Day")]})]})]})})}),Object(n.jsx)(We.a,{onMouseEnter:u,onMouseLeave:p,ref:g,id:e.listing.id,style:{marginLeft:50,color:s?"#f50057":"black"}})]}),b&&Object(n.jsx)(He,{open:b,handleClose:m,listing:e.listing})]})}function Ye(e){var t;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(De.a,{bootstrapURLKeys:{key:"AIzaSyDrQozQbHcgDzFM0mGzCEmhFDCaBiqn1XU"},defaultCenter:{lat:40.1872,lng:44.5152},defaultZoom:12,hoverDistance:20,children:(t=e.data,t.map((function(e){return Object(n.jsx)(Ge,{listing:e,lat:e.lat,lng:e.lng},e.id)})))})})}var Ke=i.a.memo(Ye),Je=Object(d.a)((function(e){return{root:{overflow:"auto",flexGrow:1,paddingRight:10}}})),$e={};function Qe(e){var t=Je(),a=Object(r.useContext)(Ht),i=Object(r.useState)([]),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(!1),b=Object(c.a)(d,2),m=b[0],g=b[1],u=Object(r.useState)(window.innerHeight),p=Object(c.a)(u,2),O=p[0],f=p[1],y=Object(r.useRef)({});return window.onresize=function(e){f(window.innerHeight)},Object(r.useEffect)((function(){a.cacheReset&&($e={}),e.params&&(y.current=e.params);var t="";for(var n in y.current)t=t+n+y.current[n];t||(t="all"),$e[t]?(l($e[t]),0===$e[t].length?g(!0):g(!1)):w.a.get("/listings/",{params:y.current}).then((function(e){$e[t]=e.data,l(e.data),console.log(e.data),0===e.data.length?g(!0):g(!1)})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))}),[e.search,a.cacheReset]),Object(n.jsxs)(x.a,{container:!0,children:[Object(n.jsx)(x.a,{id:"map",item:!0,xs:!0,sm:!0,md:!0,lg:!0,children:Object(n.jsx)(Ke,{data:o})}),Object(n.jsx)(x.a,{id:"listingsSideBar",item:!0,xs:12,sm:6,md:5,lg:4,style:{zIndex:1},children:Object(n.jsxs)(j.a,{id:"listingsSideBarPaper",className:t.root,square:!0,elevation:4,style:{height:O-98},children:[o&&Object(n.jsx)(Le,{data:o}),m&&Object(n.jsx)(h.a,{style:{margin:20},children:"No listings matching the query parameters."})]})})]})}var Xe=i.a.memo(Qe),Ve=a(236),Ze=a(249),et=Object(d.a)((function(e){return{formControl:{marginBottom:e.spacing(1),marginTop:e.spacing(1),padding:"0.5%",border:"thin solid lightgrey",borderRadius:4,width:"98%"},formLabel:{paddingLeft:4,paddingRight:4,marginLeft:10},formControlLabel:{marginTop:0,marginLeft:9,marginRight:9,padding:0}}}));var tt=function(e){var t=et();return Object(n.jsxs)(B.a,{component:"fieldset",className:t.formControl,children:[Object(n.jsx)(E.a,{component:"legend",className:t.formLabel,children:e.label}),Object(n.jsx)(Ve.a,{row:"currency"===e.name,variant:"outlined","aria-label":"transaction-type",name:e.name,type:"radio",value:e.value,onClick:e.handleChange,children:e.options.map((function(a){return Object(n.jsx)(K.a,{style:{margin:"currency"!==e.name?-3:6},labelPlacement:"currency"===e.name?"bottom":"end",value:a,className:t.formControlLabel,control:Object(n.jsx)(Ze.a,{color:"primary",size:"small"}),label:a},a)}))})]})},at=Object(d.a)((function(e){return{formControlSelect:{width:"99.4%",marginBottom:e.spacing(1),marginTop:e.spacing(1)}}}));var nt=function(e){var t=at(),a=Object(F.a)();return Object(p.a)(a.breakpoints.down("xs"))?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(te,{classes:t.formControlSelect,value:e.transaction,handleChange:e.handleChange,name:"transaction",label:"Transaction",options:ne.transaction,homePage:!0}),"Rent"===e.transaction&&Object(n.jsx)(te,{classes:t.formControlSelect,value:e.rent_period,handleChange:e.handleChange,name:"rent_period",label:"Rent Period",options:ne.rent_period,homePage:!0})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(tt,{label:"Transaction",name:"transaction",value:e.transaction,handleChange:e.handleChange,options:ne.transaction}),"Rent"===e.transaction&&Object(n.jsx)(tt,{label:"Rent Period",name:"rent_period",value:e.rent_period,handleChange:e.handleChange,options:ne.rent_period})]})},rt=a(109),it=a(179),st=Object(d.a)((function(e){return{formControl:{marginBottom:e.spacing(1),marginTop:e.spacing(1),padding:"0.5%",border:"thin solid lightgrey",borderRadius:4,width:"98%"},formLabel:{paddingLeft:4,paddingRight:4,marginLeft:10},formLabelXs:{marginLeft:10,marginTop:10}}}));var ot=function(e){var t=st(),a=Object(F.a)(),r=Object(p.a)(a.breakpoints.down("xs"));return r?Object(n.jsxs)(v.a,{className:t.formControl,style:{marginBottom:("Year Built"===e.label||"Area (\u33a1)"===e.label)&&r&&a.spacing(2)},children:[Object(n.jsx)(h.a,{color:"textSecondary",className:t.formLabelXs,children:e.label}),Object(n.jsx)(it.a,{row:"Amenities"!==e.label&&!0,style:{paddingLeft:"Amenities"===e.label&&10},children:e.children})]}):Object(n.jsxs)(B.a,{component:"fieldset",className:t.formControl,children:[Object(n.jsx)(E.a,{component:"legend",className:t.formLabel,children:e.label}),Object(n.jsx)(it.a,{row:"Amenities"!==e.label&&!0,style:{paddingLeft:"Amenities"===e.label&&10},children:e.children})]})},ct=a(107),lt=Object(d.a)((function(e){return{formControlPriceField:{margin:e.spacing(1)},formControlSelect:{width:"99.4%",marginBottom:e.spacing(1),marginTop:e.spacing(1)}}}));function dt(e){var t=e.inputRef,a=e.onChange,r=Object(rt.a)(e,["inputRef","onChange"]);return Object(n.jsx)(ct.a,Object(T.a)(Object(T.a)({},r),{},{getInputRef:t,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))}var jt=function(e){var t=lt(),a=Object(F.a)(),r=Object(p.a)(a.breakpoints.down("xs"));return Object(n.jsxs)(n.Fragment,{children:[r?Object(n.jsx)(te,{classes:t.formControlSelect,value:e.currency,handleChange:e.handleChange,name:"currency",label:"Currency",options:ne.currency,homePage:!0}):Object(n.jsx)(tt,{label:"Currency",name:"currency",value:e.currency,handleChange:e.handleChange,options:ne.currency}),Object(n.jsxs)(ot,{label:"Price",children:[Object(n.jsx)(A.a,{InputProps:{inputComponent:dt},value:e.price__gte,onChange:e.handleChange,className:t.formControlPriceField,name:"price__gte",label:"Min",size:"small",variant:"standard"}),Object(n.jsx)(A.a,{InputProps:{inputComponent:dt},value:e.price__lte,onChange:e.handleChange,className:t.formControlPriceField,name:"price__lte",label:"Max",size:"small",variant:"standard"})]})]})},bt=Object(d.a)((function(e){return{formControlSelect:{width:"99.6%",marginBottom:e.spacing(1),marginTop:e.spacing(1)}}}));var mt=function(e){var t=bt(),a=Object(F.a)(),r=Object(p.a)(a.breakpoints.down("xs"));return Object(n.jsxs)(n.Fragment,{children:[r?Object(n.jsx)(te,{classes:t.formControlSelect,value:e.home_type,handleChange:e.handleChange,name:"home_type",label:"Home Type",options:ne.home_type,homePage:!0}):Object(n.jsx)(tt,{label:"Home Type",name:"home_type",value:e.home_type,handleChange:e.handleChange,options:ne.home_type}),Object(n.jsx)(te,{classes:t.formControlSelect,value:e.district,handleChange:e.handleChange,name:"district",label:"District",options:ne.district,homePage:!0})]})},ht=Object(d.a)((function(e){return{formControlSelect:{width:"99.4%",marginBottom:e.spacing(1),marginTop:e.spacing(1)}}}));var gt=function(e){var t=ht();return Object(n.jsx)(te,{classes:t.formControlSelect,value:e.number_of_rooms,handleChange:e.handleChange,name:"number_of_rooms",label:"Rooms",options:ne.number_of_rooms,homePage:!0})},ut=Object(d.a)((function(e){return{formControlMore:Object(l.a)({width:"43%",marginTop:0,margin:e.spacing(1)},e.breakpoints.down("xs"),{width:"40%"}),formControlFurnishing:{width:"99.4%",marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var pt=function(e){var t=ut();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(ot,{label:"Year Built",children:[Object(n.jsx)(te,{value:e.year_built__gte,handleChange:e.handleChange,name:"year_built__gte",classes:t.formControlMore,label:"Min",options:ne.year_built,homePage:!0}),Object(n.jsx)(te,{value:e.year_built__lte,handleChange:e.handleChange,name:"year_built__lte",classes:t.formControlMore,label:"Max",options:ne.year_built,homePage:!0})]}),Object(n.jsxs)(ot,{label:"Area (\u33a1)",children:[Object(n.jsx)(A.a,{value:e.area__gte,onChange:e.handleChange,name:"area__gte",className:t.formControlMore,label:"Min",variant:"standard"}),Object(n.jsx)(A.a,{value:e.area__lte,onChange:e.handleChange,name:"area__lte",className:t.formControlMore,label:"Max",variant:"standard"})]}),Object(n.jsxs)(ot,{label:"Lot Size(\u33a1)",children:[Object(n.jsx)(A.a,{value:e.lot_size__gte,onChange:e.handleChange,name:"lot_size__gte",className:t.formControlMore,label:"Min",variant:"standard"}),Object(n.jsx)(A.a,{value:e.lot_size__lte,onChange:e.handleChange,name:"lot_size__lte",className:t.formControlMore,label:"Max",variant:"standard"})]}),Object(n.jsx)(te,{value:e.furnishing,handleChange:e.handleChange,name:"furnishing",classes:t.formControlFurnishing,label:"Furnishing",options:ne.furnishing,homePage:!0})]})},xt={transaction:"",rent_period:"",currency:"",price__gte:"",price__lte:"",district:"",home_type:"",year_built__gte:"",year_built__lte:"",area__gte:"",area__lte:"",lot_size__gte:"",lot_size__lte:"",number_of_rooms:"",furnishing:"",air_conditioning:"",washing_machine:"",central_heating:"",gas:"",free_wifi:"",pwd_accessable:"",elevator:"",garage:"",pool:""};function Ot(e,t){var a=t.property,n=t.value;return Object(T.a)(Object(T.a)({},e),{},Object(l.a)({},a,n))}var ft=Object(d.a)((function(e){return{formControl:{width:"100%",marginBottom:e.spacing(1),marginTop:e.spacing(1)},button:{textTransform:"none",borderRadius:0,margin:5,padding:2}}}));function yt(e){var t,a=ft(),i=Object(r.useReducer)(Ot,xt),s=Object(c.a)(i,2),o=s[0],d=s[1],b=Object(r.useState)(!1),m=Object(c.a)(b,2),g=m[0],u=m[1],x=Object(r.useState)(!1),O=Object(c.a)(x,2),y=O[0],_=O[1],C=Object(r.useState)(0),w=Object(c.a)(C,2),k=w[0],S=w[1],T=function(e){_(!1);var t=e.target.name,a=!("checkbox"!==e.target.type||!e.target.checked)||("checkbox"!==e.target.type||e.target.checked?"area__gte"===t||"area__lte"===t||"lot_size__gte"===t||"lot_size__lte"===t?e.target.value.replace(/[^0-9]/g,""):"radio"===e.target.type&&o[t]===e.target.value?"":e.target.value:"");d({property:t,value:a}),"checkbox"===e.target.type&&S(!0===a?function(e){return e+1}:function(e){return e-1})},z=function(){for(var e in _(!1),xt)d({property:e,value:xt[e]});S(0)},I=Object(F.a)(),L=Object(p.a)(I.breakpoints.down("xs")),D=Object(p.a)("(min-width:600px)"),A=Object(p.a)("(min-width:900px)"),B=Object(p.a)("(min-width:1200px)");return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(j.a,{id:"searchPanel",square:!0,elevation:4,style:{marginTop:10,paddingLeft:10,position:"relative",zIndex:2},children:[D&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ze,{name:"Transaction",value:"Sale"===o.transaction?o.transaction:o.transaction?"".concat(o.rent_period," ").concat(o.transaction):"",children:Object(n.jsx)(nt,{transaction:o.transaction,rent_period:o.rent_period,handleChange:T})}),Object(n.jsx)(ze,{name:"Price",valueMin:o.price__gte,valueMax:o.price__lte,currency:o.currency,children:Object(n.jsx)(jt,{price__gte:o.price__gte,price__lte:o.price__lte,currency:o.currency,handleChange:T})})]}),A&&Object(n.jsx)(ze,{name:"Home Type & Location",homeType:o.home_type,district:o.district,children:Object(n.jsx)(mt,{home_type:o.home_type,district:o.district,handleChange:T})}),B&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ze,{name:"Rooms",value:o.number_of_rooms&&"".concat(o.number_of_rooms,"-room"),children:Object(n.jsx)(gt,{number_of_rooms:o.number_of_rooms,handleChange:T})}),Object(n.jsx)(ze,{name:"Amenities",selectedAmenities:k,children:Object(n.jsx)(Q,{handleChange:T,searchParams:o})})]}),(D||A||B)&&Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsxs)(ze,{name:"More",children:[!B&&Object(n.jsx)(v.a,{m:1,style:{width:"42%"},children:!B&&Object(n.jsxs)(n.Fragment,{children:[!A&&Object(n.jsx)(te,{value:o.district,handleChange:T,name:"district",classes:a.formControl,label:"District",options:ne.district}),Object(n.jsx)(ot,{label:"Amenities",children:Object(n.jsx)(v.a,{pl:1,children:Object(n.jsx)(Q,{handleChange:T,searchParams:o})})})]})}),Object(n.jsxs)(v.a,{mx:1,style:{width:B?"100%":"58%"},children:[!A&&Object(n.jsx)(tt,{label:"Home Type",name:"home_type",value:o.home_type,handleChange:T,options:ne.home_type}),!B&&Object(n.jsx)(v.a,{mt:A&&2,children:Object(n.jsx)(te,{value:o.number_of_rooms,handleChange:T,name:"number_of_rooms",classes:a.formControl,label:"Rooms",options:ne.number_of_rooms,homePage:!0})}),Object(n.jsx)(pt,{handleChange:T,year_built__gte:o.year_built__gte,year_built__lte:o.year_built__lte,area__gte:o.area__gte,area__lte:o.area__lte,lot_size__gte:o.lot_size__gte,lot_size__lte:o.lot_size__lte,furnishing:o.furnishing})]})]}),Object(n.jsx)(W.a,{className:a.button,variant:"contained",color:"primary",onClick:function(){return _(!0)},children:"Search"}),Object(n.jsx)(W.a,{className:a.button,style:{paddingLeft:7,paddingRight:7},variant:"contained",color:"primary",onClick:z,children:"Reset Filters"})]}),L&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(W.a,{className:a.button,variant:"contained",color:"primary",onClick:function(){return u(!0)},children:"Filters"}),Object(n.jsx)("div",{style:{flexGrow:1}}),e.user&&Object(n.jsxs)(h.a,{style:{marginRight:12},variant:"body2",component:"span",children:["Hi, ",e.user]})]}),Object(n.jsxs)(N.a,(t={PaperProps:{style:{position:"sticky"}},transitionDuration:5,open:g,onClose:function(){return u(!1)},"aria-labelledby":"listing-edit-form",fullScreen:!1},Object(l.a)(t,"fullScreen",!0),Object(l.a)(t,"children",[Object(n.jsxs)(M.a,{style:{backgroundColor:"#E8E8E8"},children:[Object(n.jsx)(W.a,{className:a.button,variant:"contained",color:"primary",onClick:function(){_(!0),u(!1)},children:"Search"}),Object(n.jsx)(W.a,{className:a.button,style:{marginLeft:10,paddingLeft:7,paddingRight:7},variant:"contained",color:"primary",onClick:z,children:"Reset Filters"}),Object(n.jsx)("div",{style:{flex:"1 0 0"}}),Object(n.jsx)(f.a,{onClick:function(){return u(!1)},children:Object(n.jsx)(P.a,{color:"primary"})})]}),Object(n.jsxs)(R.a,{style:{margin:0,padding:20,paddingBottom:40},children:[Object(n.jsx)(nt,{transaction:o.transaction,rent_period:o.rent_period,handleChange:T}),Object(n.jsx)(jt,{price__gte:o.price__gte,price__lte:o.price__lte,currency:o.currency,handleChange:T}),Object(n.jsx)(mt,{home_type:o.home_type,district:o.district,handleChange:T}),Object(n.jsx)(gt,{number_of_rooms:o.number_of_rooms,handleChange:T}),Object(n.jsx)(pt,{handleChange:T,year_built__gte:o.year_built__gte,year_built__lte:o.year_built__lte,area__gte:o.area__gte,area__lte:o.area__lte,lot_size__gte:o.lot_size__gte,lot_size__lte:o.lot_size__lte,furnishing:o.furnishing}),Object(n.jsx)(ot,{label:"Amenities",children:Object(n.jsx)(Q,{handleChange:T,searchParams:o})})]})]),t))]})]}),Object(n.jsx)(Xe,{search:y,params:y&&o})]})}var vt=i.a.memo(yt),_t=a(48),Ct=a(19),wt=a(237),kt=a(217),St=a(171),Tt=a(239),Nt=a(238),Mt=a(240),Rt=a(241);var zt=function(e){return Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:e.link,children:e.link})," "]})};var Pt=function(){return Object(n.jsx)(y.a,{style:{marginTop:10,marginBottom:20,backgroundColor:"grey"}})};var It=function(){return Object(n.jsxs)(j.a,{elevation:6,square:!0,style:{margin:10,padding:20},children:[Object(n.jsxs)(h.a,{variant:"subtitle1",component:"div",style:{fontWeight:"bold"},children:["Hi there! ",Object(n.jsx)(Nt.a,{style:{marginBottom:-2},color:"primary"})]}),Object(n.jsxs)(h.a,{variant:"body2",style:{marginTop:20},children:["I am Anush. Thanks for visiting Real Home!  ",Object(n.jsx)("br",{}),"To get the full experience, please register or sign in with the following credentials:",Object(n.jsxs)(h.a,{variant:"body2",style:{fontWeight:"bold",marginBottom:20,marginLeft:21},children:["Username: anna ",Object(n.jsx)("br",{}),"Password: anna2021"]}),"If something breaks down or does not work properly, and you feel like letting me know about it, please email me at ",Object(n.jsx)(wt.a,{children:"anushhambaryan@gmail.com"}),"."]}),Object(n.jsx)(Pt,{}),Object(n.jsxs)(h.a,{variant:"body2",component:"div",children:["I built this website to teach myself",Object(n.jsx)(wt.a,{href:"https://reactjs.org/",children:" React,"}),Object(n.jsx)(wt.a,{href:"https://www.django-rest-framework.org/",children:" Django REST framework"}),", and to work with Google Maps. ",Object(n.jsx)("br",{}),"The concept was inspired by ",Object(n.jsx)(wt.a,{href:"https://www.zillow.com/",children:"Zillow"}),",",Object(n.jsx)(wt.a,{href:"https://www.airbnb.com/",children:" Airbnb"}),", and",Object(n.jsx)(wt.a,{href:"https://www.list.am/",children:" List.am"}),". ",Object(n.jsx)("br",{}),"It is a platform where:",Object(n.jsxs)(kt.a,{dense:!0,children:[Object(n.jsxs)(St.a,{children:[Object(n.jsx)(Tt.a,{children:Object(n.jsx)(Mt.a,{fontSize:"small",color:"primary"})}),"Registered users can add real estate for sale or rent, view, edit and delete their own listings"]}),Object(n.jsxs)(St.a,{children:[Object(n.jsx)(Tt.a,{children:Object(n.jsx)(Rt.a,{fontSize:"small",color:"primary"})}),"Unregistered users can only visit the Home page to search for listings utilizing the filters"]})]}),"I restricted the area to Yerevan to keep things simple.  The website has quite a bit of functionality, but it is by no means fully functional or optimal for use. I wanted to learn how to build some core features but did not aim to create a production-ready project.",Object(n.jsx)("br",{})]}),Object(n.jsx)(h.a,{variant:"body2",style:{marginTop:20,fontStyle:"italic"},children:"The existing listings are not real properties, their data are made up for demonstration purposes. Some of the listings have a real address that I found just by randomly clicking here and there on Google Map. The markers of those addresses accurately point to the relevant location. However, for a lot of them, the street is real, but the building number is a random number so the exact address might not exist, and the corresponding marker might point to a nonsensical location, e.g. an intersection."}),Object(n.jsx)(Pt,{}),Object(n.jsx)(h.a,{variant:"body2",style:{fontWeight:"bold"},children:"Technology Stack "}),Object(n.jsxs)(x.a,{container:!0,style:{fontSize:14},children:[Object(n.jsx)(x.a,{item:!0,xs:12,sm:4,md:3,children:Object(n.jsxs)(kt.a,{dense:!0,children:[Object(n.jsx)(St.a,{style:{fontWeight:"bold"},children:"Back end"}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://www.djangoproject.com/",children:"Django"})," "]}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://www.django-rest-framework.org/",children:"Django REST framework"})," "]}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://james1345.github.io/django-rest-knox/",children:"Django-Rest-Knox"})," "]}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://pypi.org/project/django-imagekit/",children:"django-imagekit"})," "]})]})}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:4,md:3,children:Object(n.jsxs)(kt.a,{dense:!0,children:[Object(n.jsx)(St.a,{style:{fontWeight:"bold"},children:"Front end"}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://reactjs.org/",children:"React"})," "]}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://material-ui.com/",children:"Material-UI"})," "]}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://www.npmjs.com/package/google-map-react",children:"google-map-react"})," "]}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://www.npmjs.com/package/react-geocode",children:"react-geocode"})]}),Object(n.jsxs)(St.a,{children:[" ",Object(n.jsx)(wt.a,{href:"https://reactrouter.com/",children:"React Router"})," "]})]})})]}),Object(n.jsx)(Pt,{}),Object(n.jsxs)(h.a,{variant:"body2",component:"div",children:[Object(n.jsx)(h.a,{variant:"body2",style:{fontWeight:"bold"},children:"Image sources "}),Object(n.jsxs)(kt.a,{dense:!0,children:[Object(n.jsx)(zt,{link:"https://pixabay.com/"}),Object(n.jsx)(zt,{link:"https://www.freepik.com/"}),Object(n.jsx)(zt,{link:"https://www.pexels.com/"}),Object(n.jsx)(zt,{link:"https://unsplash.com/"}),Object(n.jsx)(zt,{link:"https://www.designfixhome.com/"}),Object(n.jsx)(zt,{link:"http://everyday-modern.com/"}),Object(n.jsx)(zt,{link:"https://www.criticalshots.com/"}),Object(n.jsx)(zt,{link:"https://www.apartments.com/"}),Object(n.jsx)(zt,{link:"https://www.rentthepalms.com/"})]}),Object(n.jsx)(h.a,{variant:"body2",style:{fontWeight:"bold"},children:"Listing description sources "}),Object(n.jsxs)(kt.a,{dense:!0,children:[Object(n.jsx)(zt,{link:"https://eatsleepwander.com/airbnb-description-examples/"}),Object(n.jsx)(zt,{link:"https://www.apartments.com/rental-manager/resources/article/writing-tips-for-a-mind-blowing-property-description"}),Object(n.jsx)(zt,{link:"https://hooquest.com/listing-descriptions/"}),Object(n.jsx)(zt,{link:"https://copycatchy.com/real-estate-description-examples/"}),Object(n.jsx)(zt,{link:"https://managecasa.com/articles/epic-guide-to-writingrentalads/"}),Object(n.jsx)(zt,{link:"http://www.jdpdx.com/wp-content/uploads/2014/12/House-Ad-Sample.pdf"})]})]})]})},Lt=a(242),Dt=a(243);function Ft(e){var t=e.styles(),a=Object(r.useContext)(qt),i=Object(r.useState)(""),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(""),j=Object(c.a)(d,2),b=j[0],m=j[1],g=Object(r.useState)(""),u=Object(c.a)(g,2),p=u[0],x=u[1];return Object(n.jsxs)(Lt.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(Dt.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(h.a,{variant:"caption",color:"secondary",children:e.message}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(A.a,{variant:"outlined",required:!0,fullWidth:!0,margin:"normal",label:"Username",value:b,onChange:function(e){m(e.target.value),l("")},error:o}),Object(n.jsx)(A.a,{variant:"outlined",required:!0,fullWidth:!0,margin:"normal",label:"Password",type:"password",value:p,onChange:function(e){x(e.target.value),l("")},error:o}),Object(n.jsx)(h.a,{variant:"caption",color:"secondary",children:o}),Object(n.jsx)(W.a,{color:"primary",type:"submit",fullWidth:!0,variant:"contained",className:t.submit,onClick:function(e){e.preventDefault();var t={username:b,password:p};w.a.post("/login/",null,{auth:t}).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),a.setSelectedTab(0)})).catch((function(e){l("Incorrect password or username")}))},children:"Sign In"})]})]})]})}function At(e){var t=e.styles(),a=Object(r.useState)({first_name:"",last_name:"",email:"",username:"",password:"",password_confirmation:""}),i=Object(c.a)(a,2),s=i[0],o=i[1],l=Object(r.useState)({}),d=Object(c.a)(l,2),j=d[0],b=d[1];return Object(n.jsxs)(Lt.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(Dt.a,{}),Object(n.jsx)("div",{className:t.paper,children:Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(x.a,{container:!0,spacing:2,children:[Object(n.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(A.a,{variant:"outlined",required:!0,fullWidth:!0,label:"First Name",value:s.first_name,onChange:function(e){o(Object(T.a)(Object(T.a)({},s),{},{first_name:e.target.value})),b(Object(T.a)(Object(T.a)({},j),{},{first_name:""}))},error:!!j.first_name||null,helperText:j.first_name})}),Object(n.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(A.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Last Name",value:s.last_name,onChange:function(e){o(Object(T.a)(Object(T.a)({},s),{},{last_name:e.target.value})),b(Object(T.a)(Object(T.a)({},j),{},{last_name:""}))},error:!!j.last_name||null,helperText:j.last_name})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(A.a,{variant:"outlined",required:!0,fullWidth:!0,type:"email",label:"Email Address",value:s.email,onChange:function(e){o(Object(T.a)(Object(T.a)({},s),{},{email:e.target.value})),b(Object(T.a)(Object(T.a)({},j),{},{email:""}))},error:!!j.email||null,helperText:j.email})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(A.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Username",value:s.username,onChange:function(e){o(Object(T.a)(Object(T.a)({},s),{},{username:e.target.value})),b(Object(T.a)(Object(T.a)({},j),{},{username:""}))},error:!!j.username||null,helperText:j.username})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(A.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Password",type:"password",value:s.password,onChange:function(e){o(Object(T.a)(Object(T.a)({},s),{},{password:e.target.value})),b(Object(T.a)(Object(T.a)({},j),{},{password:""}))},error:!!j.password||null,helperText:j.password})}),Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(A.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Confirm Password",type:"password",value:s.password_confirmation,onChange:function(e){o(Object(T.a)(Object(T.a)({},s),{},{password_confirmation:e.target.value})),b(Object(T.a)(Object(T.a)({},j),{},{password_confirmation:""}))},error:!!j.password_confirmation||null,helperText:j.password_confirmation})})]}),Object(n.jsx)(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault(),w.a.post("/users/",s).then((function(t){e.setMessage("Registered successfully! Please sign in."),e.setSelectedTab(0)})).catch((function(e){e&&b(e.response.data)}))},children:"Sign Up"})]})})]})}function Bt(){return Object(n.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",style:{bottom:0},children:["Copyright \xa9 ",Object(n.jsx)(wt.a,{color:"inherit",href:"/real-home",children:"Real Home"})," ",(new Date).getFullYear(),"."]})}var Et=function(e){var t=Object(r.useState)(0),a=Object(c.a)(t,2),i=a[0],s=a[1],o=Object(r.useState)(""),l=Object(c.a)(o,2),h=l[0],g=l[1],u=Object(r.useState)(window.innerHeight),p=Object(c.a)(u,2),x=p[0],O=p[1];window.onresize=function(e){O(window.innerHeight)};var f=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));return Object(n.jsxs)(j.a,{style:{margin:10,padding:20},elevation:6,square:!0,children:[Object(n.jsxs)(b.a,{value:i,onChange:function(e,t){s(t)},centered:!0,indicatorColor:"primary",children:[Object(n.jsx)(m.a,{label:"Sign in"}),Object(n.jsx)(m.a,{label:"Sign up"})]}),Object(n.jsx)("div",{style:{display:"flex",minHeight:x-176,flexDirection:"column"},children:0===i?Object(n.jsx)(Ft,{styles:f,message:h,handleClose:e.handleClose}):Object(n.jsx)(At,{styles:f,setSelectedTab:s,setMessage:g})}),Object(n.jsx)(Bt,{})]})},Wt=Object(d.a)((function(e){var t;return{tab:(t={},Object(l.a)(t,e.breakpoints.down("sm"),{minWidth:100}),Object(l.a)(t,e.breakpoints.down("xs"),{minWidth:35,paddingLeft:10,paddingRight:10,fontSize:12}),t),name:Object(l.a)({marginTop:11},e.breakpoints.down("xs"),{display:"none"})}})),qt=i.a.createContext(),Ht=i.a.createContext();var Ut=function(){var e=Wt(),t=Object(r.useState)(!1),a=Object(c.a)(t,2),i=a[0],s=a[1],o=localStorage.getItem("token"),l=JSON.parse(localStorage.getItem("user")),d=Object(r.useState)((function(){var e=window.location.pathname;return"/my-listings"===e||"/auth"===e?1:"/add-listing"===e?2:"/about"!==e||o?"/about"===e&&o?3:0:2})),u=Object(c.a)(d,2),p=u[0],x=u[1];return window.onpopstate=function(e){var t=window.location.pathname;x("/my-listings"===t||"/auth"===t?1:"/add-listing"===t?2:"/about"!==t||o?"/about"===t&&o?3:0:2)},Object(n.jsxs)(_t.a,{children:[Object(n.jsx)(j.a,{square:!0,elevation:4,id:"dashboard",children:Object(n.jsxs)(b.a,{value:p,onChange:function(e,t){x(t)},indicatorColor:"primary",textColor:"primary",style:{display:"flex"},children:[Object(n.jsx)(m.a,{className:e.tab,icon:Object(n.jsx)(g.a,{}),component:_t.b,to:"/real-home"}),o&&Object(n.jsx)(m.a,{className:e.tab,label:"MY LISTINGS",component:_t.b,to:"/my-listings"}),o&&Object(n.jsx)(m.a,{className:e.tab,label:"ADD",component:_t.b,to:"/add-listing"}),null===o&&Object(n.jsx)(m.a,{className:e.tab,label:"Sign In / Up",component:_t.b,to:"/auth"}),Object(n.jsx)(m.a,{className:e.tab,label:"ABOUT",component:_t.b,to:"/about"}),Object(n.jsx)("div",{style:{flexGrow:1}}),l&&Object(n.jsxs)(h.a,{className:e.name,children:["Hi, ",l.first_name]}),o&&Object(n.jsx)(m.a,{className:e.tab,label:"LOG OUT",onClick:function(){w.a.post("/logout/",null,{headers:{Authorization:"Token ".concat(o)}}).then((function(e){localStorage.removeItem("token"),localStorage.removeItem("user"),x(0)})).catch((function(e){console.log(e)}))},component:_t.b,to:"/log-out"})]})}),Object(n.jsx)(Ct.d,{children:Object(n.jsxs)(Ht.Provider,{value:{cacheReset:i,setCacheReset:s},children:[Object(n.jsx)(Ct.b,{path:"/real-home",children:Object(n.jsx)(vt,{user:l&&l.first_name})}),Object(n.jsx)(Ct.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(Ct.a,{exact:!0,from:"/",to:"/real-home"})}}),Object(n.jsx)(Ct.b,{exact:!0,path:"/log-out",render:function(){return Object(n.jsx)(Ct.a,{exact:!0,from:"/log-out",to:"/real-home"})}}),Object(n.jsx)(Ct.b,{path:"/my-listings",children:Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Me,{})})}),Object(n.jsx)(Ct.b,{path:"/add-listing",children:Object(n.jsx)(ue,{newListing:!0})}),Object(n.jsx)(Ct.b,{path:"/about",children:Object(n.jsx)(It,{})}),o&&Object(n.jsx)(Ct.b,{path:"/auth",render:function(){return Object(n.jsx)(Ct.a,{exact:!0,from:"/auth",to:"/real-home"})}}),Object(n.jsx)(Ct.b,{path:"/auth",children:Object(n.jsx)(qt.Provider,{value:{setSelectedTab:x},children:Object(n.jsx)(Et,{})})})]})})]})};var Gt=function(){var e=document.getElementsByTagName("head")[0],t=e.insertBefore;return e.insertBefore=function(a,n){a.href&&a.href.indexOf("//fonts.googleapis.com/css?family=Roboto")>-1||t.call(e,a,n)},Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(Ut,{})})},Yt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,256)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(Gt,{})}),document.getElementById("root")),Yt()}},[[167,1,2]]]);
//# sourceMappingURL=main.09ec3b1b.chunk.js.map